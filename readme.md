# База данных интернет-магазина (PostgreSQL)


## Описание проекта

Проект представляет собой реляционную модель базы данных интернет-магазина, реализованную на PostgreSQL.

Цель проекта — продемонстрировать навыки:

- проектирования структуры базы данных
- построения связей между таблицами
- работы с первичными и внешними ключами
- обеспечения ссылочной целостности
- написания аналитических SQL-запросов
- работы с JOIN, GROUP BY и агрегатными функциями


## Структура базы данных

### 1. users
Хранит информацию о пользователях.

### 2. addresses
Адреса пользователей.  
Связь: один пользователь может иметь несколько адресов (One-to-Many).

### 3. products
Каталог товаров интернет-магазина.

### 4. carts
Корзины пользователей.  
Один пользователь может иметь несколько корзин.

### 5. cart_items
Товары внутри корзины.  
Одна корзина может содержать несколько товаров.


## Связи между таблицами

- users → carts (1:N)
- users → addresses (1:N)
- carts → cart_items (1:N)
- products → cart_items (1:N)

Связи реализованы через FOREIGN KEY.

Для обеспечения целостности данных используется `ON DELETE CASCADE`, что гарантирует автоматическое удаление зависимых записей.


## Используемые механизмы PostgreSQL

В проекте применены:

- PRIMARY KEY
- FOREIGN KEY
- SERIAL (автоинкремент)
- Индексация внешних ключей
- JOIN-запросы
- Агрегатные функции (SUM, COUNT)
- GROUP BY
- ORDER BY


## Примеры реализованных запросов

### Получение пользователей и их корзин

Используется LEFT JOIN для отображения всех пользователей, включая тех, у кого нет корзин.

### Детализация корзины

Множественные JOIN позволяют получить список товаров, добавленных конкретным пользователем.

### Подсчёт общей суммы покупок по пользователям

Используются агрегатные функции и группировка данных.

### Определение самого продаваемого товара

Агрегация по количеству добавлений в корзины.


## Как запустить проект

1. Выполнить `1_schema.sql` — создание структуры базы данных.
2. Выполнить `2_seed.sql` — заполнение тестовыми данными.
3. Выполнить `3_queries.sql` — примеры аналитических запросов.


## Цель проекта

Продемонстрировать практическое понимание:

- реляционной модели данных
- принципов нормализации
- построения связей One-to-Many
- аналитических SQL-запросов
- работы с PostgreSQL на уровне junior-разработчика


## Назначение

Проект создан для портфолио и демонстрации базовых навыков SQL и проектирования базы данных.
